import{_ as f,A as w,u as k,m as D,B as $,f as _,y as T,c as l,a as t,t as s,s as n,d as C,F as g,q as x,z as M,o as r,p as z}from"./index-54961bfb.js";const A={name:"TherapistDetail",setup(){const e=w(),i=k(),u=D();$();const a=_(!0),c=_(null),y=()=>{var v;if(!((v=c.value)!=null&&v.diagnoses)||c.value.diagnoses.length===0)return 0;const d=c.value.diagnoses.filter(p=>p.rating&&!isNaN(p.rating)&&p.rating>0);return d.length===0?0:d.reduce((p,b)=>p+(b.rating||0),0)/d.length},h=async()=>{a.value=!0;try{const d=await M.get(`/ai/therapists/${e.params.id}`);c.value=d.data.data}catch(d){u.error("Failed to load therapist profile"),console.error("Error loading therapist:",d)}finally{a.value=!1}},m=()=>{i.push(`/booking/${e.params.id}`)},o=async()=>{i.push(`/booking/${e.params.id}`)};return T(()=>{h()}),{loading:a,therapist:c,getAverageRating:y,bookAppointment:m,addToCart:o}}},B=["dir"],F={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},N={class:"text-center py-12"},R={class:"text-gray-600"},j={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},S=["d"],V={class:"card mb-8"},H=["src","alt"],L={class:"text-3xl font-bold text-gray-900 mb-4"},E={class:"flex text-yellow-400"},q={class:"text-lg text-gray-600"},I={class:"text-2xl font-bold text-primary-600 mb-4"},G={class:"text-gray-600 mb-6 leading-relaxed"},J={class:"mb-6"},K={class:"text-lg font-semibold text-gray-900 mb-3"},O={class:"flex flex-wrap gap-2"},P={class:"flex flex-col sm:flex-row gap-4"},Q={class:"grid md:grid-cols-2 gap-8"},U={class:"card"},W={class:"text-xl font-semibold text-gray-900 mb-4"},X={class:"space-y-4"},Y={class:"font-medium text-gray-900 mb-2"},Z={class:"text-gray-600"},tt={class:"font-medium text-gray-900 mb-2"},et={class:"text-gray-600"},st={class:"font-medium text-gray-900 mb-2"},at={class:"text-gray-600"},ot={class:"card"},it={class:"text-xl font-semibold text-gray-900 mb-4"},lt={class:"space-y-4"},rt={class:"font-medium text-gray-900 mb-2"},nt={class:"text-gray-600"},dt={class:"font-medium text-gray-900 mb-2"},ct={class:"text-gray-600"},pt={class:"font-medium text-gray-900 mb-2"},ht={class:"text-gray-600"},mt={class:"card mt-8"},gt={class:"text-xl font-semibold text-gray-900 mb-6"},xt={key:0,class:"space-y-6"},ut={class:"flex items-center justify-between mb-2"},yt={class:"font-medium text-gray-900"},vt={class:"flex text-yellow-400"},_t={class:"text-sm text-gray-600"},bt={key:0,class:"text-gray-600 text-sm"},ft={key:1,class:"text-center py-8"},wt={class:"text-gray-600"},kt={key:2,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Dt={class:"text-center py-12"},$t={class:"text-lg font-medium text-gray-900 mb-2"},Tt={class:"text-gray-600"};function Ct(e,i,u,a,c,y){var h,m;return r(),l("div",{dir:e.$i18n.locale==="ar"?"rtl":"ltr",class:n(e.$i18n.locale==="ar"?"rtl":"ltr")},[a.loading?(r(),l("div",F,[t("div",N,[i[4]||(i[4]=t("svg",{class:"animate-spin h-12 w-12 text-primary-600 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t("p",R,s(e.$t("common.loading")),1)])])):a.therapist?(r(),l("div",j,[t("button",{onClick:i[0]||(i[0]=o=>e.$router.go(-1)),class:n(["flex items-center text-primary-600 hover:text-primary-700 mb-6",e.$i18n.locale==="ar"?"flex-row-reverse":"flex-row"])},[(r(),l("svg",{class:n(["w-5 h-5",e.$i18n.locale==="ar"?"ml-2":"mr-2"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:e.$i18n.locale==="ar"?"M9 5l7 7-7 7":"M15 19l-7-7 7-7"},null,8,S)],2)),C(" "+s(e.$t("therapistDetail.backToTherapists")),1)],2),t("div",V,[t("div",{class:n(["md:flex",e.$i18n.locale==="ar"?"md:space-x-reverse md:space-x-8":"md:space-x-8"])},[t("div",{class:n(["md:w-1/3 mb-6 md:mb-0",e.$i18n.locale==="ar"?"md:order-2":"md:order-1"])},[t("img",{src:a.therapist.photo||"/default-therapist.svg",alt:a.therapist.name,class:n(["w-full h-64 md:h-80 rounded-lg",a.therapist.photo?"object-cover":"object-contain bg-gray-100 p-8"])},null,10,H)],2),t("div",{class:n(["md:w-2/3",e.$i18n.locale==="ar"?"md:order-1":"md:order-2"])},[t("h1",L,s(a.therapist.name),1),t("div",{class:n(["flex items-center mb-4",e.$i18n.locale==="ar"?"space-x-reverse space-x-2":"space-x-2"])},[t("div",E,[(r(),l(g,null,x(5,o=>t("svg",{key:o,class:n(["w-5 h-5",o<=a.getAverageRating()?"fill-current":"fill-gray-300"]),viewBox:"0 0 20 20"},i[5]||(i[5]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292c.3.921-.755 1.688-1.54 1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),t("span",q,s(a.getAverageRating().toFixed(1))+" ("+s(((h=a.therapist.diagnoses)==null?void 0:h.length)||0)+" "+s(e.$t("therapistDetail.reviews"))+")",1)],2),t("div",I," $"+s(((m=a.therapist.price)==null?void 0:m.others)||"Contact")+" "+s(e.$t("therapistDetail.perSession")),1),t("p",G,s(a.therapist.bio||e.$t("therapistDetail.bioDefault")),1),t("div",J,[t("h3",K,s(e.$t("therapists.specializations")),1),t("div",O,[(r(!0),l(g,null,x(a.therapist.diagnoses,o=>(r(),l("span",{key:o.id,class:"bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm"},s(o.name),1))),128))])]),t("div",P,[t("button",{onClick:i[1]||(i[1]=(...o)=>a.bookAppointment&&a.bookAppointment(...o)),class:"btn-primary text-lg px-8 py-3"},s(e.$t("therapistDetail.bookSession")),1),t("button",{onClick:i[2]||(i[2]=(...o)=>a.addToCart&&a.addToCart(...o)),class:"btn-outline text-lg px-8 py-3"},s(e.$t("therapistDetail.addToCart")),1)])],2)],2)]),t("div",Q,[t("div",U,[t("h2",W,s(e.$t("therapistDetail.about")),1),t("div",X,[t("div",null,[t("h3",Y,s(e.$t("therapistDetail.experience")),1),t("p",Z,s(e.$t("therapistDetail.experienceText")),1)]),t("div",null,[t("h3",tt,s(e.$t("therapistDetail.approach")),1),t("p",et,s(e.$t("therapistDetail.approachText")),1)]),t("div",null,[t("h3",st,s(e.$t("therapistDetail.languages")),1),t("p",at,s(e.$t("therapistDetail.languagesText")),1)])])]),t("div",ot,[t("h2",it,s(e.$t("therapistDetail.availability")),1),t("div",lt,[t("div",null,[t("h3",rt,s(e.$t("therapistDetail.nextAvailable")),1),t("p",nt,s(a.therapist.earliest_slot||e.$t("therapists.contactForAvailability")),1)]),t("div",null,[t("h3",dt,s(e.$t("therapistDetail.sessionDuration")),1),t("p",ct,s(e.$t("therapistDetail.sessionDurationText")),1)]),t("div",null,[t("h3",pt,s(e.$t("therapistDetail.sessionType")),1),t("p",ht,s(e.$t("therapistDetail.sessionTypeText")),1)])])])]),t("div",mt,[t("h2",gt,s(e.$t("therapistDetail.reviews")),1),a.therapist.diagnoses&&a.therapist.diagnoses.length>0?(r(),l("div",xt,[(r(!0),l(g,null,x(a.therapist.diagnoses,o=>(r(),l("div",{key:o.id,class:"border-b border-gray-200 pb-6 last:border-b-0"},[t("div",ut,[t("h3",yt,s(o.name),1),t("div",{class:n(["flex items-center",e.$i18n.locale==="ar"?"space-x-reverse space-x-2":"space-x-2"])},[t("div",vt,[(r(),l(g,null,x(5,d=>t("svg",{key:d,class:n(["w-4 h-4",d<=(o.rating||0)?"fill-current":"fill-gray-300"]),viewBox:"0 0 20 20"},i[6]||(i[6]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292c.3.921-.755 1.688-1.54 1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),t("span",_t,s(o.rating||0)+"/5",1)],2)]),o.suitability_message?(r(),l("p",bt,s(o.suitability_message),1)):z("",!0)]))),128))])):(r(),l("div",ft,[t("p",wt,s(e.$t("therapistDetail.noReviews")),1)]))])])):(r(),l("div",kt,[t("div",Dt,[i[7]||(i[7]=t("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t("h3",$t,s(e.$t("therapistDetail.therapistNotFound")),1),t("p",Tt,s(e.$t("therapistDetail.therapistNotFoundMessage")),1),t("button",{onClick:i[3]||(i[3]=o=>e.$router.push("/therapists")),class:"btn-primary mt-4"},s(e.$t("therapistDetail.browseTherapists")),1)])]))],10,B)}const At=f(A,[["render",Ct],["__scopeId","data-v-a3e54393"]]);export{At as default};
