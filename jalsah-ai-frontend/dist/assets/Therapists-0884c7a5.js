import{_ as B,u as R,m as S,f as T,n as V,g as N,y as D,c as r,a as t,i as y,l as h,k as w,F as _,q as k,s as z,z as L,o as d,t as c,p as P,h as A}from"./index-54961bfb.js";const j={name:"Therapists",setup(){const u=R(),e=S(),b=T(!0),a=T([]),v=V({specialization:"",priceRange:"",availability:"",sortBy:"rating"}),C=N(()=>{let s=[...a.value];if(v.specialization&&(s=s.filter(i=>{var n;return(n=i.diagnoses)==null?void 0:n.some(l=>l.name.toLowerCase().includes(v.specialization.toLowerCase()))})),v.priceRange){const[i,n]=v.priceRange.split("-").map(Number);s=s.filter(l=>{var g;const p=((g=l.price)==null?void 0:g.others)||0;return n?p>=i&&p<=n:p>=i})}return s.sort((i,n)=>{var l,p,g,M;switch(v.sortBy){case"rating":return o(n)-o(i);case"price_low":return(((l=i.price)==null?void 0:l.others)||0)-(((p=n.price)==null?void 0:p.others)||0);case"price_high":return(((g=n.price)==null?void 0:g.others)||0)-(((M=i.price)==null?void 0:M.others)||0);default:return 0}}),s}),o=s=>{if(!s.diagnoses||s.diagnoses.length===0)return 0;const i=s.diagnoses.filter(l=>l.rating&&!isNaN(l.rating)&&l.rating>0);return i.length===0?0:i.reduce((l,p)=>l+(p.rating||0),0)/i.length},m=async()=>{b.value=!0;try{const s=await L.get("/ai/therapists");a.value=s.data.data||[]}catch(s){e.error("Failed to load therapists"),console.error("Error loading therapists:",s)}finally{b.value=!1}},f=s=>{u.push(`/therapist/${s}`)},x=s=>{u.push(`/booking/${s}`)};return D(()=>{m()}),{loading:b,therapists:a,filters:v,filteredTherapists:C,getAverageRating:o,viewTherapist:f,bookAppointment:x}}},E=["dir"],F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},H={class:"card mb-8"},U={class:"grid md:grid-cols-4 gap-4"},q={key:0,class:"text-center py-12"},I={key:1,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},$=["onClick"],W={class:"relative mb-4"},Y=["src","alt"],G={class:"absolute top-2 right-2 bg-primary-600 text-white px-2 py-1 rounded-full text-sm font-medium"},J={class:"space-y-3"},K={class:"text-xl font-semibold text-gray-900"},O={class:"flex items-center space-x-2"},Q={class:"flex text-yellow-400"},X={class:"text-sm text-gray-600"},Z={class:"text-gray-600 text-sm line-clamp-2"},tt={class:"flex flex-wrap gap-1"},et={key:0,class:"text-xs text-gray-500"},ot={class:"flex items-center text-sm text-gray-600"},st={class:"flex space-x-2 pt-2"},it=["onClick"],at=["onClick"],lt={key:2,class:"text-center py-12"};function nt(u,e,b,a,v,C){return d(),r("div",{dir:u.$i18n.locale==="ar"?"rtl":"ltr",class:z(u.$i18n.locale==="ar"?"rtl":"ltr")},[t("div",F,[e[16]||(e[16]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 mb-4"}," Find Your Perfect Therapist "),t("p",{class:"text-lg text-gray-600"}," Browse our qualified therapists and find the one that's right for you. ")],-1)),t("div",H,[t("div",U,[t("div",null,[e[5]||(e[5]=t("label",{class:"form-label"},"Specialization",-1)),y(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.filters.specialization=o),class:"input-field"},e[4]||(e[4]=[w('<option value="" data-v-1b2b9272>All specializations</option><option value="anxiety" data-v-1b2b9272>Anxiety Disorders</option><option value="depression" data-v-1b2b9272>Depression</option><option value="stress" data-v-1b2b9272>Stress Management</option><option value="relationships" data-v-1b2b9272>Relationship Issues</option><option value="trauma" data-v-1b2b9272>Trauma and PTSD</option><option value="addiction" data-v-1b2b9272>Addiction</option><option value="eating" data-v-1b2b9272>Eating Disorders</option><option value="sleep" data-v-1b2b9272>Sleep Disorders</option>',9)]),512),[[h,a.filters.specialization]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"form-label"},"Price Range",-1)),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.filters.priceRange=o),class:"input-field"},e[6]||(e[6]=[w('<option value="" data-v-1b2b9272>Any price</option><option value="0-50" data-v-1b2b9272>$0 - $50</option><option value="50-100" data-v-1b2b9272>$50 - $100</option><option value="100-150" data-v-1b2b9272>$100 - $150</option><option value="150+" data-v-1b2b9272>$150+</option>',5)]),512),[[h,a.filters.priceRange]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"form-label"},"Availability",-1)),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.filters.availability=o),class:"input-field"},e[8]||(e[8]=[w('<option value="" data-v-1b2b9272>Any time</option><option value="morning" data-v-1b2b9272>Morning</option><option value="afternoon" data-v-1b2b9272>Afternoon</option><option value="evening" data-v-1b2b9272>Evening</option><option value="weekend" data-v-1b2b9272>Weekend</option>',5)]),512),[[h,a.filters.availability]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"form-label"},"Sort By",-1)),y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>a.filters.sortBy=o),class:"input-field"},e[10]||(e[10]=[t("option",{value:"rating"},"Highest Rated",-1),t("option",{value:"price_low"},"Lowest Price",-1),t("option",{value:"price_high"},"Highest Price",-1),t("option",{value:"availability"},"Most Available",-1)]),512),[[h,a.filters.sortBy]])])])]),a.loading?(d(),r("div",q,e[12]||(e[12]=[t("svg",{class:"animate-spin h-12 w-12 text-primary-600 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),t("p",{class:"text-gray-600"},"Loading therapists...",-1)]))):a.filteredTherapists.length>0?(d(),r("div",I,[(d(!0),r(_,null,k(a.filteredTherapists,o=>{var m,f,x,s;return d(),r("div",{key:o.id,class:"card hover:shadow-lg transition-shadow cursor-pointer",onClick:i=>a.viewTherapist(o.id)},[t("div",W,[t("img",{src:o.photo||"/default-therapist.svg",alt:o.name,class:z(["w-full h-48 rounded-lg",o.photo?"object-cover":"object-contain bg-gray-100 p-4"])},null,10,Y),t("div",G,c(((m=o.price)==null?void 0:m.others)||"Contact"),1)]),t("div",J,[t("h3",K,c(o.name),1),t("div",O,[t("div",Q,[(d(),r(_,null,k(5,i=>t("svg",{key:i,class:z(["w-4 h-4",i<=a.getAverageRating(o)?"fill-current":"fill-gray-300"]),viewBox:"0 0 20 20"},e[13]||(e[13]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),t("span",X,c(a.getAverageRating(o).toFixed(1))+" ("+c(((f=o.diagnoses)==null?void 0:f.length)||0)+" reviews)",1)]),t("p",Z,c(o.bio||"Experienced therapist specializing in mental health and well-being."),1),t("div",tt,[(d(!0),r(_,null,k((x=o.diagnoses)==null?void 0:x.slice(0,3),i=>(d(),r("span",{key:i.id,class:"bg-primary-100 text-primary-800 text-xs px-2 py-1 rounded-full"},c(i.name),1))),128)),((s=o.diagnoses)==null?void 0:s.length)>3?(d(),r("span",et," +"+c(o.diagnoses.length-3)+" more ",1)):P("",!0)]),t("div",ot,[e[14]||(e[14]=t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",null,"Next available: "+c(o.earliest_slot||"Contact for availability"),1)]),t("div",st,[t("button",{onClick:A(i=>a.bookAppointment(o.id),["stop"]),class:"flex-1 btn-primary text-sm py-2"}," Book Session ",8,it),t("button",{onClick:A(i=>a.viewTherapist(o.id),["stop"]),class:"btn-outline text-sm py-2"}," View Profile ",8,at)])])],8,$)}),128))])):(d(),r("div",lt,e[15]||(e[15]=[t("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No therapists found",-1),t("p",{class:"text-gray-600"},"Try adjusting your filters or check back later for new therapists.",-1)])))])],10,E)}const dt=B(j,[["render",nt],["__scopeId","data-v-1b2b9272"]]);export{dt as default};
